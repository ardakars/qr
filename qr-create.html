<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Toplu QR Üretici</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 20px; margin: 0; }
    button { font-size: 1.2em; padding: 10px 20px; margin: 10px 0; border-radius: 8px; border: 1px solid #ccc; cursor: pointer; }
    .qr-container { margin: 15px auto; width: 220px; text-align: center; border: 1px solid #ddd; padding: 10px; border-radius: 8px; display: inline-block; }
    .qr-container p { margin: 10px 0 0 0; font-weight: bold; font-size: 1.1em; }
    @media (max-width: 480px) {
      .qr-container { width: 90%; max-width: 250px; margin-bottom: 15px; }
    }
  </style>
</head>
<body>
  <h2>Toplu QR Üretici</h2>
  <button id="generateBtn" disabled>Tüm QR’ları Üret</button>

  <div id="qrList"></div>

  <script>
    let names = [];

    // İsimleri yükle
    fetch('names.txt')
      .then(response => response.text())
      .then(text => {
        names = text.split('\n').map(s => s.trim()).filter(s => s.length>0);
        document.getElementById('generateBtn').disabled = false; // isimler yüklendiğinde butonu aktif et
      });

    function generateAllQR() {
      const qrListDiv = document.getElementById("qrList");
      qrListDiv.innerHTML = "";

      if (!names.length) return;

      names.forEach(name => {
        const container = document.createElement("div");
        container.className = "qr-container";

        const qrDiv = document.createElement("div");
        container.appendChild(qrDiv);

        const p = document.createElement("p");
        p.textContent = name;
        container.appendChild(p);

        new QRCode(qrDiv, {
          text: encodeURIComponent(name),
          width: 200,
          height: 200,
          correctLevel: QRCode.CorrectLevel.H
        });

        qrListDiv.appendChild(container);
      });
    }

    document.getElementById('generateBtn').addEventListener('click', generateAllQR);
  </script>
</body>
</html>
